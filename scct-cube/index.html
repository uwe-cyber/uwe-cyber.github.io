<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Three.js â€” Spinning Cube with Multiple Textures</title>
  <style>
    html,body { height:100%; margin:0; background:#000; }
    #app { width:100%; height:100vh; display:block; }
    .info { position: absolute; left: 12px; top: 12px; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color:#eee; background: rgba(0,0,0,0.6); padding:8px 10px; border-radius:8px; font-size:13px; }
  </style>
</head>
<body>
  <div id="app"></div>
  <div class="info">Discover more at https://www.uwe.ac.uk</div>

  <!-- three.js (module build) from CDN -->
  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.158.0/build/three.module.js';

    // -- Basic scene setup -------------------------------------------------
    const container = document.getElementById('app');
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x000000);

    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
    camera.position.set(0, 0, 3);

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    // -- Lights ------------------------------------------------------------
    const hemi = new THREE.HemisphereLight(0xffffff, 0x444444, 0.9);
    hemi.position.set(0, 20, 0);
    scene.add(hemi);

    const dir = new THREE.DirectionalLight(0xffffff, 0.6);
    dir.position.set(3, 10, 5);
    scene.add(dir);

    // -- Load 3 textures --------------------------------------------------
    const loader = new THREE.TextureLoader();
    const texturePaths = ['texture1.png', 'texture2.png', 'texture3.png'];
    const textures = texturePaths.map(path => loader.load(path));

    // Flip horizontally to avoid mirrored look
    textures.forEach(tex => {
      tex.encoding = THREE.sRGBEncoding;
      tex.flipY = false;
      tex.wrapS = THREE.RepeatWrapping;
      tex.repeat.x = -1;
    });

    // Assign each texture to opposing sides: [right, left, top, bottom, front, back]
    const materials = [
      new THREE.MeshStandardMaterial({ map: textures[0], transparent: true }), // right
      new THREE.MeshStandardMaterial({ map: textures[0], transparent: true }), // left
      new THREE.MeshStandardMaterial({ map: textures[1], transparent: true }), // top
      new THREE.MeshStandardMaterial({ map: textures[1], transparent: true }), // bottom
      new THREE.MeshStandardMaterial({ map: textures[2], transparent: true }), // front
      new THREE.MeshStandardMaterial({ map: textures[2], transparent: true })  // back
    ];

    const geometry = new THREE.BoxGeometry(1, 1, 1);
    const cube = new THREE.Mesh(geometry, materials);
    scene.add(cube);

    // -- Animation --------------------------------------------------------
    const clock = new THREE.Clock();
    function animate() {
      const dt = clock.getDelta();
      cube.rotation.x += dt * 0.9;
      cube.rotation.y += dt * 0.7;
      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }

    animate();

    // -- Resize handling --------------------------------------------------
    window.addEventListener('resize', onWindowResize);
    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }
  </script>
</body>
</html>
